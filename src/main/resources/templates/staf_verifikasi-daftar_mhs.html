<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<div th:replace="resources"></div>
<title>Staf Verifikasi - Daftar Mahasiswa</title>
</head>

<body>
	<div th:include="staf_verifikasi-navbar"></div>

	<div class="container">
		<div class="content">
			<div class="row">
				<div class="col-sm-12">
					<h3>Daftar Mahasiswa</h3>
				</div>
			</div>

			<table class="table">
				<thead>
					<tr>
						<td>
							<h4 th:text="'Username'">Username</h4>
						</td>
						<td>
							<h4 th:text="'Nama Lengkap'">Nama Lengkap</h4>
						</td>
						<td>
							<h4 th:text="'NPM'">NPM</h4>
						</td>
						<td>
							<h4 th:text="'Jurusan'">Jurusan</h4>
						</td>
						<td>
							<h4 th:text="'Status Verifikasi'">Status Verifikasi</h4>
						</td>
						<td>
							<h4 th:text="'Edit Verifikasi'">Edit Verifikasi</h4>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr th:each="mahasiswa,iterationStatus: ${mahasiswas}" th:if="${mahasiswa.biodata!=null}">
						<td th:text="${mahasiswa.username}" class="center">username</td>
						<td th:text="${mahasiswa.nama_lengkap}" class="center">nama lengkap</td>
						<td th:text="${mahasiswa.npm}">npm</td>
						<td th:text="${mahasiswa.program_studi.nama_program_studi}" class="center">jurusan</td>
						<td th:text="${mahasiswa.biodata.status_verifikasi}">status_verifikasi </td>
						<td><a type="button" data-toggle="modal" th:attr="data-target='#mahasiswaModel' + ${mahasiswa.npm}"
							class="btn btn-warning"> <i class="glyphicon glyphicon-pencil"></i></a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<div class="footer">Modul Registrasi Mahasiswa Baru</div>

	<div th:each="mahasiswa,iterationStatus:${mahasiswas}">
	<div th:each="biodata,iterationStatus:${biodatas}" th:if="${biodata.username.equals(mahasiswa.username)}">
		<div th:id="'mahasiswaModel'+${mahasiswa.npm}" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h3 class="modal-title" th:text="${mahasiswa.nama_lengkap}">nama lengkap</h3>
						<div class="col-xs-6 col-md-3">
						    <a href="#" class="thumbnail">
						      <img src="/img/logo.png" alt="profpic"/>
							</a>
						</div>
						<span th:text="${mahasiswa.username}+' | '+${mahasiswa.npm}">nama lengkap | 1234567890 | Sistem Informasi | Sarjana | Reguler</span>
					</div>
					<div class="modal-body">
						<div th:if="${biodata.status_verifikasi.equals('Verified')}">
							<div class="panel panel-success" align="center">
								<div class="panel-heading"><h4>Sudah Terverifikasi</h4></div>
							</div>
						</div>
						<div th:if="${biodata.status_verifikasi.equals('Unverified')}">
							<div class="panel panel-danger" align="center">
								<div class="panel-heading"><h4>Tidak Diverifikasi</h4></div>
							</div>
						</div>
						<div th:if="${biodata.status_verifikasi.equals('Not verified yet')}">
							<div class="panel panel-warning" align="center">
								<div class="panel-heading"><h4>Belum Diverifikasi</h4></div>
							</div>
						</div>
						<table class="tg">
							<tbody>
								<tr>
									<td>
										<div class="col-sm-12"><h3 th:text="'Biodata'">Biodata</h3></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Alamat'">alamat</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'alamat'">INI BELOM</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Jenis Kelamin'">jenis kelamin</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'jk'">jenis kelamin</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nomor Telepon'">nomor telepon</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'no telp'">nomor telepon</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Kewaganegaraan'">Kewaganegaraan</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Kewaganegaraan'">Kewaganegaraan</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Sidik Jari'">sidik jari </h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'sidik'">sidik jari</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'scan ktp'">scan ktp</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'scan ktp'">scan ktp</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'scan kk'">scan kk</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'scan kk'">scan kk</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'scan surat pernyataan'">scan surat pernyataan</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'scan surat pernyataan'">scan surat pernyataan</h4></div>
									</td>
								</tr>
							</tbody>
							<tbody>
								<tr>
									<td>
										<div class="col-sm-12"><h3></h3></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h3 th:text="'Ijazah'">Ijazah</h3></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nomor Ijazah'">nomor ijazah</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nomor Ijazah'">nomor ijazah</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nama Institusi'">nama institusi</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nama Institusi'">nama institusi</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Jenjang'">jenjang</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Jenjang'">jenjang</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Scan Ijazah'">scan ijazah</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Scan Ijazah'">scan ijazah</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Scan Pernyataan Ijazah'">scan pernyataan ijazah</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Scan Pernyataan Ijazah'">scan pernyataan ijazah</h4></div>
									</td>
								</tr>
							</tbody>
							<tbody>
								<tr>
									<td>
										<div class="col-sm-12"><h3></h3></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h3 th:text="'Data Kesehatan'">Data Kesehatan</h3></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nomor Ijazah'">nomor ijazah</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nomor Ijazah'">nomor ijazah</h4></div>
									</td>
								</tr>
								<tr>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nama Institusi'">nama institusi</h4></div>
									</td>
									<td>
										<div class="col-sm-12"><h4 th:text="'Nama Institusi'">nama institusi</h4></div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div th:if="${biodata.status_verifikasi.equals('Not verified yet')}">
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Tutup</button>
						  	<a th:href="'/staf-verifikasi/detailIDM/verified/' + ${mahasiswa.npm}"><button id="verify" type="button" class="btn btn-success">Verifikasi</button></a>
						 	<a><button id="unverify" type="button" class="btn btn-warning" data-toggle="collapse" data-target="#commentForm">Belum Sesuai</button></a>
						</div>
						<form id="commentForm" name="commentForm" method="POST" th:action="@{/staf-verifikasi/detailIDM/unverified/{npm}(npm=${mahasiswa.npm})}">
							<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
							<div class="form-group">
								<label class="control-label col-sm-4" for="komentar">Komentar</label>
								<textarea rows="5" class="form-control" name="komentar" id="komentar"></textarea>
							</div>
							<div class="btn-pull-right" role="group" aria-label="..." align="right">
						  		<button id="submitComment" type="submit" class="btn btn-success" value="Upload">Simpan</button>
						  		<a th:href="'/staf-verifikasi/detailIDM/' + ${mahasiswa.npm}"><button id="cancel" type="button" class="btn btn-warning">Batal</button></a>
						  	</div>
						</form>
					</div>
					
					<div th:if="${biodata.status_verifikasi.equals('Verified')}">
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Tutup</button>
						</div>
					</div>
					
					<div th:if="${biodata.status_verifikasi.equals('Unverified')}">
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Tutup</button>
							<a th:href="'/staf-verifikasi/detailIDM/verified/' + ${mahasiswa.npm}"><button id="verify" type="button" class="btn btn-success">Verifikasi</button></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>		
					
	<script type="text/javascript">
		$(document).ready(function() {
			$('.table').dataTable();
		});

		var button = document.getElementById("unverify");
		var showTheForm = document.getElementById("commentForm");
		var verifyButton = document.getElementById("verify");
		function toggle() {
			showTheForm.style.visibility = showTheForm.style.visibility === "hidden" ? "visible" : "hidden";
			verifyButton.style.visibility = verifyButton.style.visibility === "visible" ? "hidden" : "visible";
			button.style.visibility = button.style.visibility === "visible" ? "hidden" : "visible";
		}
		toggle();
		button.addEventListener("click", toggle, false);
	</script>
</body>
</html>
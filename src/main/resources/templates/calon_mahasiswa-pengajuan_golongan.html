<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
		<div th:replace="resources"></div>
        <title>Calon Mahasiswa - Pilih Golongan Pembayaran</title>
    </head>
	
    <body>
    	<div th:include="calon_mahasiswa-navbar"></div>
		
    	<div class="container">
			<div class="content content-top">
				<div class="row">
					<div class="col-sm-12">
						<h3><span class="glyphicon glyphicon-th-list"></span>Pilih Golongan Pembayaran</h3>
					</div>
				</div>
				
				<hr/>
				
				<form name="skemaForm" method="POST" enctype="multipart/form-data" action="/c6/calon-mahasiswa/skema-pembayaran/pengajuan" onsubmit="return validateForm()" class="form-horizontal">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
					
					<div th:switch="${rumpun.rumpun_id}">
						<div th:case="'1'">
							<h4>Golongan Pembayaran Rumpun Sains dan Teknologi</h4>
							<br/>
							<div class="table-responsive">
								<table class="table">
									<thead>
										<tr>
											<th style="text-align: center;">Golongan</th>
											<th style="text-align: center;">Jumlah biaya semester minimal</th>
											<th style="text-align: center;">Jumlah biaya semester maksimal</th>
											<th style="text-align: center;">Uang pangkal minimal</th>
											<th style="text-align: center;">Uang pangkal maksimal</th>
											<th style="text-align: center;">Pilih</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="schema,iterationStatus: ${schemas}">
											<td th:text="${schema.golongan_id}" style="text-align: center;"></td>
											<td th:text="${schema.jumlah_biaya_ipa_min}" style="text-align: center;"></td>
											<td th:text="${schema.jumlah_biaya_ipa_max}" style="text-align: center;"></td>
											<td th:text="${schema.uang_pangkal_ipa_min}" style="text-align: center;"></td>
											<td th:text="${schema.uang_pangkal_ipa_max}" style="text-align: center;"></td>
											<td><input type="radio" name="golongan_id" id="golongan_id" th:value="${schema.golongan_id}" style="text-align: center;"></input></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						
						<div th:case="'2'">
							<h4>Golongan Pembayaran Rumpun Sosial dan Humaniora</h4>
							<br/>
							<div class="table-responsive">
								<table class="table">
									<thead>
										<tr>
											<th style="text-align: center;">Golongan</th>
											<th style="text-align: center;">Jumlah biaya semester minimal</th>
											<th style="text-align: center;">Jumlah biaya semester maksimal</th>
											<th style="text-align: center;">Uang pangkal minimal</th>
											<th style="text-align: center;">Uang pangkal maksimal</th>
											<th style="text-align: center;">Pilih</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="schema,iterationStatus: ${schemas}">
											<td th:text="${schema.golongan_id}" style="text-align: center;"></td>
											<td th:text="${schema.jumlah_biaya_ips_min}" style="text-align: center;"></td>
											<td th:text="${schema.jumlah_biaya_ips_max}" style="text-align: center;"></td>
											<td th:text="${schema.uang_pangkal_ips_min}" style="text-align: center;"></td>
											<td th:text="${schema.uang_pangkal_ips_max}" style="text-align: center;"></td>
											<td><input type="radio" name="golongan_id" id="golongan_id" th:value="${schema.golongan_id}" style="text-align: center;"></input></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						
						<div th:case="'3'">
							<h4>Golongan Pembayaran Rumpun Ilmu Kesehatan</h4>
							<br/>
							<div class="table-responsive">
								<table class="table">
									<thead>
										<tr>
											<th style="text-align: center;">Golongan</th>
											<th style="text-align: center;">Jumlah biaya semester minimal</th>
											<th style="text-align: center;">Jumlah biaya semester maksimal</th>
											<th style="text-align: center;">Uang pangkal minimal</th>
											<th style="text-align: center;">Uang pangkal maksimal</th>
											<th style="text-align: center;">Pilih</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="schema,iterationStatus: ${schemas}">
											<td th:text="${schema.golongan_id}" style="text-align: center;"></td>
											<td th:text="${schema.jumlah_biaya_ik_min}" style="text-align: center;"></td>
											<td th:text="${schema.jumlah_biaya_ik_max}" style="text-align: center;"></td>
											<td th:text="${schema.uang_pangkal_ik_min}"></td>
											<td th:text="${schema.uang_pangkal_ik_max}"></td>
											<td><input type="radio" name="golongan_id" id="golongan_id" th:value="${schema.golongan_id}"></input></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					
					<hr/>
					
					<div style="text-align:right;">
						<div class="btn-group" role="group" aria-label="...">
						  <a th:href="'/c6/calon-mahasiswa/skema-pembayaran'"><button type="button" class="btn btn-default btn-cancel">Kembali</button></a>
						</div>
						
						<div class="btn-group" role="group" aria-label="...">
							<button type="submit" class="btn btn-default" value="Upload">Ajukan</button>
						</div>
					</div>
				</form>
			</div>
       	</div>
		
		<div class="footer">Modul Registrasi Mahasiswa Baru</div>
		
		<script type="text/javascript">
			/*<![CDATA[*/
			$(function() {
				// We can attach the `fileselect` event to all file inputs on the page
				$(document).on('change', ':file', function() {
					var input = $(this),
						numFiles = input.get(0).files ? input.get(0).files.length : 1,
						label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
					input.trigger('fileselect', [numFiles, label]);
				});

				// We can watch for our custom `fileselect` event like this
				$(document).ready( function() {
					$(':file').on('fileselect', function(event, numFiles, label) {

						var input = $(this).parents('.input-group').find(':text'),
						log = numFiles > 1 ? numFiles + ' files selected' : label;

						if( input.length ) {
							input.val(log);
						} else {
							if( log ) alert(log);
						}
					});
				});
			});
			
			function validateRadio (radios)
			{
			    for (i = 0; i < radios.length; ++ i)
			    {
			        if (radios[i].checked) return true;
			    }
			    return false;
			}

			function validateForm()
			{
			    if(validateRadio (document.forms["skemaForm"]["golongan_id"]))
			    {
			        return true;
			    }
			    else
			    {
			        alert('Mohon pilih salah satu golongan yang tersedia.');
			        return false;
			    }
			}
			/*]]>*/
		</script>
    </body>
</html>